---
layout: single
title: "[데이터통신] 3장 Data Transmission"
excerpt: "3장 Data Transmission"
date: 2021-05-01T00:00:00+09:00
toc: true
toc_sticky: true
use_math: true
categories:
  - 전공
  - 데이터통신
tags:
  - 전공
  - 데이터통신
---

## 전송 용어

데이터의 전송은 전송 매체를 통해 transmitter(송신기)와 receiver(수신기)사이에서 발생한다.

#### 전송 매체의 종류

- **유선 매체(guided media/wired media)** : 전화선(twsited pair(TP)), 동축 케이블(coaxial cable), 광섬유(optical fiber)
- **무선 매체(unguided media/wireless)** : 공기, 진공, 바닷물을 매체로 이용

#### 연결 방식

- **직접 연결(direct link)** : 중간 노드의 연결 없이 source와 destination이 직접 연결 된 것
- **점 대 점 연결(point to point)** : source와 destination 또는  transmitter와 receiver 사이의 직접 연결
    - source와 destination이 하나의 link를 독점한다.
    - source가 destination이 될수도 있고, destination이 source가 될 수도 있다. → 데이터를 주고 받는다.
- **Multi-point** : 여러 개의 디바이스가 하나의 link를 공유
    - 대표적인 예 : bus 구조
    - 한 순간에는 한 쌍의 source & destination이 하나의 bus를 사용할 수 있다. 2개 이상이 되면 충돌 발생

#### 전송 방향

- 단방향(simplex) : 하나가 송신측, 다른 하나가 수신측 ⇒ 송수신이 미리 정해져 있는 형태
ex) 방송국
- 양방향(duplex)
    - half duplex
        - 양 끝단이 transmitter가 될 수도 receiver가 될 수도 있음
        - 두 개의 스테이션이 모두 전송할 수 있지만 한 순간에 하나만 가능 ⇒ 전송할 때는 전송만 하고 수신할 때는 수신만 한다. (교대적으로 이루어짐)
        - ex) 무전기
    - full duplex
        - 동시에 두 개의 스테이션이 전송할 수 있다.
        - 같은 순간에 보내면서 받을 수 있다.
        - 동시에 신호를 양방향으로 전달할 수 있다.
        - ex) 전화

#### 아날로그 VS 디지털

- **아날로그**
    - 연속적이다.
    - 표현 공간이 무한하다.
    - 노이즈와 원래 신호를 구분하기 힘들다.
- **디지털**
    - 이산적이다.
    - 표현 공간이 제한적이다. → 표현할 수 있는 수가 한정적
    - 노이즈를 쉽게 제거할 수 있다.

## 주기 함수

- **주기 함수**
    - 반복되는 것
    - S(t) = S(t + T)
    - 특정 점의 신호가 T라는 시간마다 반복
- 주기의 역수는 주파수, T = 1/f
- sine wave, square wave

#### Sine Wave

- 가장 기본적인 주기 함수
- 3가지 요소에 의해 표현 가능
    - 진폭(Aplitude) : 그 신호의 최대 값
        - Time domain 시간축
        - 단위 : volts
    - 주파수(Frequency) : 신호가 반복되는 비율
        - 단위 : Hz(헤르츠) = cycle/sec → 1초에 얼마나 많은 사이클이 반복되는지
        - T = 1/f
    - 위상(Phase) :  상대적인 위치

## 파장(Wavelength)(λ)

- 한 사이클의 시간적인 길이
- 신호의 파장은 하나의 사이클이 차지하는 시간적인 길이
- λ = vT 
파장은 속도 * 시간(주기)
- v = λ*f
속도는 파장 * 주파수
- v = 자유 공간에서의 빛의 속도( $3*10^8$m/s) 
⇒ v 일정
⇒ 주파수가 높을수록 파장이 짧아진다.
- 파장의 길이는 안테나의 크기와 관련된다.

## 주파수 영역 개념(Frequency Domain Concepts)

- 신호는 많은 주파수 성분으로 구성되어 있다.
- 어떤 시그널이라도 여러 주파수 성분으로 만들 수 있다.
- 각각의 성분은 sine wave(주기함수)로 표현할 수 있다.
    
    ⇒ 하나의 신호는 여러 개의 사인 함수의 조합으로 표현할 수 있다.
    
- 주파수 영역 함수를 그릴 수 있다.
- 주파수를 많이 합성할수록 square wave에 접근한다.

## 스펙트럼과 대역폭

- 스펙트럼 : 신호에 포함된 주파수들의 영역
- 대역폭(Bandwidth) : 주파수들이 분포되어 있는 폭
    - Absolute bandwidth : 스펙트럼의 폭
    - Effective bandwidth
        - 신호의 주요 에너지를 포함하고 있는 주파수까지만 고려
        - 에너지가 작은 주파수 성분은 무시
        - 일반적으로 말하는 대역폭을 의미
    - 다수개의 주파수를 포함하는 신호를 전송하려면 대역폭이 충분히 커야 한다.
    - 대역폭이 작으면 신호의 손상이 많이 된다.
- 직류 성분(DC component) : 주파수가 0인 신호, 신호가 가지는 평균값

## 전송 속도(Data rate)와 대역폭(Bandwidth)

- Data rate = bit/sec = bps
- 전송속도가 빠를수록 변화가 많다. → 변화가 많을수록 주파수가 높다. → 주파수가 높을수록 보내기 어렵다.
⇒ 전송속도가 빠를수록 더 큰 대역폭을 요구
- 대역폭이 제한되어 있기 때문에 전송 매체가 전할 수 있는 전송 속도를 제한한다.
- 광섬유는 대역폭이 넓다.  → 전송 속도가 빠르다.
- Square wave는 무한한 대역폭을 가진다.
- 에너지는 앞에 있는 몇 개의 주파수에 집중되어 있으므로 앞에 있는 몇 개의 주파수만 전달한다.
⇒ 제한된 대역폭이 왜곡을 발생시킴
- 대역폭과 전송 속도는 직접적인 연관성이 있다.
    - 더 큰 전송 속도를 요구하면 더 큰 대역폭을 요구한다.
    - 더 큰 대역폭을 가지는 매체는 더 큰 전송 속도를 제공할 수 있다.

## 아날로그와 디지털 데이터의 전송

- 데이터(Data) : 정보를 운반하는 엔터티, 정보를 표현하는 것
- 정보(Information) : 의미가 있는 데이터
- 신호(Signals) : 데이터를 전송에 용이한 형태(전기 or 전자기파)로 바꾼 것
- Signaling : 적절한 통신 매체를 통한 신호의 물리적 전파
- Transmission : 신호를 전파하고 프로세싱하는 것을 포함하는 데이터의 통신

#### 음성 스펙트럼

- 데시벨(dB)은 상대적인 값
- dB = $10log{P_2\over P_1} = 20log{V_2 \over V_1}$
- $P = I\cdot V = {V^2\over R}$
- 기준 전압하고 상대 전압이 같을 때 데시벨이 0이 됨 ($log1 =0$)
- 처음 전송한 값에서 감쇠가 일어나므로 값이 작아짐 → 0을 기준으로 마이너스 값이 됨
- 주파수가 낮은 부분과 높은 부분은 잡음이 많음
- FM방송의 대역폭이 AM방송보다 더 큼 → 방송 퀄리티가 더 좋음

## 디지털 데이터

- Text
- Character
- IRA(컴퓨터에서 사용하는 표준 코드, ascii code)
    - 아스키코드가 나타낼 수 있는 비트 수 : 7 → 0~127

#### 디지털 신호의 감쇠

- Square wave는 상당히 많은 주파수 성분을 포함하고 있는데 전송할 때 모두 전송할 수 없으므로 일부를 희생시킴 → 변화가 일어남 → 손실
- 전송 속도가 높을수록, 주파수가 높을수록 감쇠가 심함 → 전송되지 않는 주파수 성분이 더 많음

#### 디지털 신호의 장점

- 일반적으로 아날로그보다 싸다 ← 디지털 기술이 많이 발전했기 때문
기술의 발전 → 상용화 → 가격이 싸짐
- 잡음에 영향을 덜 받음 ← 표현 공간이 제한적이기 때문

#### 디지털 신호의 단점

- 감쇠가 더 심함

## 음성 신호

- 음성 주파수 300~3400Hz
- 이것보다 낮거나 높은 주파수에는 노이즈가 많음
- 음성을 아날로그 신호로 바꿔주는 것 : 마이크, 전화기

## 비디오 신호

- 525라인 카메라에서 보냄
- 실제 화면에서는 483라인만 나옴
- 1초에 30번 이루어짐
- 한 화면을 구성하는데 30분의 1초가 걸림
- 비디오 신호는 4.2MHz대역

## PC 입력을 디지털 신호로 전환

- 한 비트의 폭을 알면 전송 속도를 구할 수 있음

## 아날로그 or 디지털 데이터 ⇒ 아날로그 or 디지털 신호

- **아날로그 데이터 → 전화기 → 아날로그 신호**
- **디지털 데이터 → 모뎀 → 아날로그 신호**
⇒ 아날로그 형태를 갖지만 데이터가 0과 1밖에 없으므로 디지털 전송 기법이다.
    - Modem : modulation(변조) and demodulation(복조)의 약자
    - 대역폭이 큰 디지털 데이터를 아날로그 대역폭에 맞게 modulation해줌
- **아날로그 데이터 → 코덱 → 디지털 신호**
    - Codec : coder and decoder의 약자
- **디지털 데이터 → digital transceiver → 디지털 신호**
    - Transceiver : transmitter and receiver의 약자

## 아날로그와 디지털 전송방식

- 아날로그 신호는 아날로그 전송 기법과 디지털 전송 기법으로 전송 가능
- 디지털 신호는 디지털 전송 기법으로만 전송 가능

## 디지털로 바뀌는 요인

- 디지털 기술 발전
    - 디지털의 발전 → 가격 낮춤 → 범용
    - 직접 회로 기술 발전
- 데이터 보존
    - 전송 할 때 노이즈가 발생할 수 있음 → 원래의 신호 보장X
    - 디지털은 아날로그에 비해 원래의 신호를 보장하고, 복원할 수 있다.
- 용량의 사용성 높임
    - 디지털 기술을 사용하면 큰 용량을 더 효율적으로 사용 가능(다중화 기술(Multiplexing) 사용)
- 보안성
    - 보안 알고리즘 적용이 용이
    - 디지털은 아날로그에 비해 암호화하기 쉽다.
- 통합 가능
    - 옛날에는 전화망에 특화, 전용망 존재
    - 요즘에는 하나의 망으로 여러가지 서비스 제공
    - 디지털망은 여러 서비스를 통합적으로 사용 가능

## 전송 방식

#### 비동기 방식(Asynchronous)

- 전송 단위 : character(문자)
- 통신측과 수신측 사이에 타이밍 동기가 이루어지지 않음
- 긴 메시지를 전송할 수 없음 ← 에러가 발생할 수 있음
⇒ 전송 단위가 짧음 5~8bit
- 처음 전송을 시작할 때만 동기를 맞추고 전송 도중에는 동기를 맞추지 않음
- 통신 측과 수신 측은 서로 약속을 함 → 프로토콜
    - 0으로 전송 시작한다고 약속
    - 통신 측에서 전송 안 할 때는 1 상태를 유지하다가 전송을 시작할 때 1비트 크기동안 0으로 떨어짐 → start bit
- 시작 비트 이후로 데이터 전송(0 또는 1)
- 데이터는 8개까지 전송 가능
- 통신 측과 수신 측은 주고 받는 전송 속도를 미리 약속해야 함
    - receiver가 첫번째 비트가 0으로 떨어졌는지를 체크하기 위해 한 비트 폭의 중간(가장 안정)을 검사함
    - 그 다음부터는 한 비트 폭만큼의 시간 후에 체크
    - ex) 전송 속도가 10bps일 때 1비트의 폭은 0.1초 → 0.05초 후 시작 비트 검사 후 0.1초마다 데이터 검사
- 문제점 : transmitter와 receiver가 각각 clock을 가짐 → 두 clock이 정확히 일치하지 않음
    - 저항 골드 오차 : 5%
    - 비동기 방식은 동기가 일어나 후 전송 중에는 동기를 맞추지 않으므로 오차가 누적되어 정확한 전송이 불가능하므로 여러 비트를 전송할 수 없음 → 최대 8비트까지만 전송 가능
    - receiver는 새로운 character가 시작할 때마다 재동기할 수 있는 방법을 가져야함
    - stop bit는 1이므로 1로 끝나야함
    - 8비트를 전송하기 위해 start bit와 stop bit가 필요 → 2개의 비트가 오버헤드 (오버헤드 20%)
    - 효율성을 높이기 위해 나온 것이 동기 방식

#### 동기 방식(Synchronous)

- 전송 단위 : block(여러 개의 character가 모인 것) → 길이가 길다.
- Timing drift를 방지하기 위해 transmitter와 receiver 사이에 별도의 공용 clock이 필요
    - 별도의 clock 라인 제공 → 라인 증가하면 비용 증가 → 네트워크에서 바람직하지 않음
    - 데이터에 clock 정보를 실어서 보냄
- Frame : 전송하는 단위(데이터 +  preamble + postamble + control information)

## 전송 손상

- 전송된 신호와 받은 신호가 다를 수 있다.
    - 아날로그 : 신호 품질 낮춤
    - 디지털 : 비트 에러 야기
- 가장 심각한 손상
    - 감쇠, 감쇠 왜곡-비선형성 때문에
    - 지연 왜곡-주파수마다 도착하는 시간 다름
    - 잡음 : 원하지 않은 신호

#### 감쇠

- 매체마다 감쇠의 정도가 다름
    - 구리선보다 광섬유의 감쇠가 적음
- 감쇠는 거리 함수
    - 거리에 따라 급격히 감소 → log함수로 표현
- 감쇠는 주파수의 함수
    - 주파수가 증가할수록 감쇠는 커진다.
- 감쇠는 데시벨로 표현
- 감쇠 해결 방법
    - 감쇠는 신호의 강도가 줄어드는 것
    ⇒ 증폭기(amplifier) 또는 repeater 필요
        - Amplifier : 아날로그 신호 증폭
        - Repeater : 디지털 신호 증폭
    - 하나의 신호는 다수의 주파수를 가지고 있고 주파수마다 감쇠의 정도가 다름
    ⇒ 수신측에서 감쇠가 많이 된 것은 증폭을 많이 시키고 감쇠가 적게 된 것은 증폭을 조금 시키면 됨
        - Equalizer : 주파수 성분마다 증폭되는 정도를 조절

#### 지연 왜곡

- 주파수마다 전파 속도가 다름
- 하나의 신호는 다수의 주파수 성분으로 구성
- 같은 순간에 출발한 주파수가 수신측에 도착한 시간이 다름 → 지연 발생
- 디지털 데이터에 치명적
- 전송속도 제한
    - 전송 속도가 빠를수록 비트 폭이 작음

#### 잡음

###### 잡음의 종류

- Thermal noise(열잡음)
    - 전자가 열을 받으면 운동을 하는데 그 운동이 랜덤이므로 제거할 수 없는 잡음이다.
    - 최소한 감내해야하는 잡음
    - White noise(백색 잡음)이라고 명명
- Intermodulation noise
    - transmitter와 receiver 사이의 비선형성에 의해 발생
    - 신호가 원래 가지고 있는 주파수 성분 이외의 주파수가 만들어지는 것
    - 두개의 주파수의 합 또는 배수 형태
- Impulse noise
    - 외부의 간섭에 의해 이루어지는 형태
    - 천둥 → 짧지만 강한 신호 야기
    - 기간은 짧고 신호의 크기는 큼
    - 아날로그 신호에는 데미지를 입히지 않음
    - 디지털 신호에는 1비트 이상이 영향 받을 수 있음
    - 특히 고속망에서는 1비트의 폭이 작으므로 여러 비트가 에러 날 수 있음
- Crosstalk
    - 전화할 때 본인과 상대방 외의 다른 사람의 목소리가 들리는 현상
    - 통신 구간에 여러 회선이 지나가는 한 회선에 지나가는 신호가 또다른 회선에 유기되는 것(coupling)

## Channel 용량

- 채널이 단위시간동안 전송할 수 있는 비트의 수
- 주어진 환경 하에서 어느 매체가 전송할 수 있는 최대율
- 단위 : bps
- 전송 속도(Data rate) : bps
- 대역폭(Bandwidth)
    - 매체에 따라 다름
    - 대역폭이 클수록 전송 용량이 큼
- 잡음(Noise)
    - 잡음의 크기에 영향을 받음
- 오류률(Error rate)
    - 오류 : 0을 전송했는데 1을 받거나 1을 전송했는데 0을 받는 현상
    - $10^{-3}$ : 평균 1000비트마다 1비트 오류 발생
    - $10^{-6}$ : 평균 1000000비트마다 1비트 오류 발생
- 설비의 대역폭이 크면 클수록 가격이 비쌈 But 더 높은 전송 속도 제공 가능
- 효율성을 성취하는데 주되 제한 요소는 잡음이다.

#### Nyquist Bandwidth

- 이상적인 환경을 고려한 것 ⇒ 잡음이 없는 환경(noise free)
- 잡음을 무시한 최대 용량
- C(bps) = 2B(Hz)
    - 대역폭이 1MHz이면 최대로 이를 수 있는 전송 속도는 2Mbps
    - 한 주기에 최대 2비트의 정보를 전달할 수 있음
- 레벨 수가 여러개일 때 $C = 2Blog_2M$
    - M : 신호 요소의 수, 레벨의 수
- 효율적으로 전송하기 위해 레벨의 수를 증가시킴 → modulation → 용량을 증가시킬 수 있음
But 사용하지 않음
    - 구현하기 어려움 & error rate증가
    - receiver의 부담 증가(receiver가 할 일 증가) & 잡음이나 손상 증가
    - 레벨 수 증가시키면 변화율이 작음 → 주파수가 낮음

#### Shannon Capacity Formula

- 실제는 노이즈가 없을 수 없음
- 노이즈가 작을수록 전송속도 높아짐
- 전송 속도와 error rate를 고려한 것
    - 속도가 빠를수록(한 비트 폭이 작을수록) 에너지가 작음 → 노이즈에 민감 → error rate증가
- SNR : 신호 대 잡음 비율, 신호의 강도를 잡음의 강도로 나눈 것
    - $SNR_{db} = 10log_{10}(signal/noise)$
    - SNR이 클수록 좋음 → 신호가 노이즈보다 상대적으로 큼
- $C = Blog_2(1+SNR)$
    - 용량(Capacity)은 대역폭(Bandwidth)에 비례한다.
    - Log(SNR)에 비례한다.